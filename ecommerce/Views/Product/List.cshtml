@model ProductListViewModel

@{
  var order = Convert.ToString((!Convert.ToBoolean(ViewBag.order)));
}

<div class="row justify-content-between">
  <h1>Products</h1>
  <div class="mt-2">
    <form method="get" asp-controller="Product" asp-action="List">
      <input type="hidden" name="name" value="@Model.searchName" />
      <input type="hidden" name="order" value="@order" />
      <input type="hidden" name="page" value="@Model.Page" />
      <button class="btn btn-warning">Order by Price</button>
    </form>
  </div>
  <div class="mt-2">
    <a asp-action="Create" asp-controller="Product" class="btn btn-primary">Create Product</a>
  </div>
</div>

<div class="row mt-4">
  @foreach (var product in Model.Products)
  {
    <partial name="_ProductCard" model="product" />
  }
</div>

@Html.PagedListPager(Model.Products, page => Url.Action("List", "Product", new { page,
order=ViewBag.order, name=Model.searchName }));